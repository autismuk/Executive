<!DOCTYPE html><html><head><style>body { background:#333; color:#0F0; font-family:Arial,Verdana;} a { color:#0AA } h1 { color:#FF0; } h2 { color:#0FF } table,tr,td { color: #CCC; padding:4px;border:1px solid white; border-collapse:collapse; }</style></head><body>
<a name="Executive"></a>
<hr><h1>Executive</h1>
<p><h3>Extends Base</h3></p>
<p>The Executive Class is the main controller and storage system for objects. It also coordinates updates, timers and asynchronous messaging, which are built in. It uses ObjectLists regularly, which are a table consisting of a count, and a has of objects keyed on references.</p>
<p>Methods : <a href="#Executive_addLibraryObject"/>addLibraryObject</a>,<a href="#Executive_addMixinObject"/>addMixinObject</a>,<a href="#Executive_createClass"/>createClass</a>,<a href="#Executive_enterFrame"/>enterFrame</a>,<a href="#Executive_nameObject"/>nameObject</a>,<a href="#Executive_query"/>query</a>,<a href="#Executive_queueMessage"/>queueMessage</a>,<a href="#Executive_removeTimer"/>removeTimer</a></p><hr><a name="Executive_(constructor)"></a>
<a name="Executive_addLibraryObject"></a>
<h2>addLibraryObject(library,element,data)</h2>
<table>
<tr><td>library</td><td>string</td><td>LUA library to use (e.g. utils.controller)</td></tr>
<tr><td>element</td><td>string</td><td>Element with in library (optional)</td></tr>
<tr><td>data</td><td>table</td><td>Data to use in constructor (optional)</td></tr>
<tr><td>return</td><td>object</td><td>Library object instance.</td></tr>
</table>
<p>Add a library defined object. The library should return the class prototype or a table of prototypes (if element is used) An instance of this class is created using the supplied constructor data, it is added as a mixin object.</p>
<a name="Executive_addMixinObject"></a>
<h2>addMixinObject(object,data)</h2>
<table>
<tr><td>object</td><td>object</td><td>Mixin object to be decorated.</td></tr>
<tr><td>data</td><td>object</td><td>Optional data for the constructor call.</td></tr>
<tr><td>return</td><td>object</td><td>Object that was decorated.</td></tr>
</table>
<p>Add a mixin object to the system. Some objects may be created by modifying other classes via decoration, these will not inherit either the executive member or the member functions. This method decorates the mixin with both. Do not use this with game objects, which are added automatically by the constructor.</p>
<a name="Executive_addTag"></a>
<a name="Executive_addTimer"></a>
<a name="Executive_attach"></a>
<a name="Executive_createClass"></a>
<h2>createClass(baseClass)</h2>
<table>
<tr><td>baseClass</td><td>prototype</td><td>Base class to extend from (can be ignored, defaults to ExecutiveBaseClass)</td></tr>
<tr><td>return</td><td>object</td><td>Prototype for modification to produce a class/prototype</td></tr>
</table>
<p>This creates a class which can be used as a prototype - it is a replacement for the new() method. It returns an instance of the ExecutiveBaseClass to be modified.</p>
<a name="Executive_decorateMixinObject"></a>
<a name="Executive_delete"></a>
<a name="Executive_detach"></a>
<a name="Executive_enterFrame"></a>
<h2>enterFrame(eventData)</h2>
<table>
<tr><td>eventData</td><td>table</td><td>Event data.</td></tr>
</table>
<p>Handle enterFrame events and dispatch them via update, process messages and timers. Sends updates to object:onUpdate(deltaTime,deltaMS,systemTime), timer events to object:onTimer(tag,timerID) and messages to object:onMessage(from,message).</p>
<a name="Executive_fire"></a>
<a name="Executive_insert"></a>
<a name="Executive_isGameObjectSubclass"></a>
<a name="Executive_nameObject"></a>
<h2>nameObject(name,object)</h2>
<table>
<tr><td>name</td><td>string</td><td>Name to give it in the object reference store</td></tr>
<tr><td>object</td><td>object</td><td>Object to attach to that reference.</td></tr>
</table>
<p>Name an object, storing a reference to it in executive.e</p>
<a name="Executive_process"></a>
<a name="Executive_query"></a>
<h2>query(tagList)</h2>
<table>
<tr><td>tagList</td><td>table</td><td>table of tags/strings which are required to be all satisfied.</td></tr>
<tr><td>return</td><td>objectlist</td><td>table with 2 values, dictionary of objects => objects and count of hits.</td></tr>
</table>
<p>Query the object database for all objects with all the listed tags.</p>
<a name="Executive_queueMessage"></a>
<h2>queueMessage(recipient,sender,message,delayTime)</h2>
<table>
<tr><td>recipient</td><td>object/string</td><td>object or query for recipients of message</td></tr>
<tr><td>sender</td><td>object</td><td>object sending the message</td></tr>
<tr><td>message</td><td>table</td><td>message body.</td></tr>
<tr><td>delayTime</td><td>number</td><td>time message is to be delayed in ms.</td></tr>
</table>
<p>Queue a message to be sent to object or objects.</p>
<a name="Executive_removeTag"></a>
<a name="Executive_removeTimer"></a>
<h2>removeTimer(timerID)</h2>
<table>
<tr><td>timerID</td><td>number</td><td>ID of timer to remove</td></tr>
</table>
<p>Remove a timer with the given timer ID</p>
<a name="Executive_split"></a>
<a name="Executive_tableSize"></a>
<a name="ExecutiveBaseClass"></a>
<hr><h1>ExecutiveBaseClass</h1>
<p><h3>Extends Base</h3></p>
<p></p>
<p>Methods : <a href="#ExecutiveBaseClass_addRepeatingTimer"/>addRepeatingTimer</a>,<a href="#ExecutiveBaseClass_addSingleTimer"/>addSingleTimer</a>,<a href="#ExecutiveBaseClass_addTimer"/>addTimer</a>,<a href="#ExecutiveBaseClass_constructor"/>constructor</a>,<a href="#ExecutiveBaseClass_delete"/>delete</a>,<a href="#ExecutiveBaseClass_destructor"/>destructor</a>,<a href="#ExecutiveBaseClass_getExecutive"/>getExecutive</a>,<a href="#ExecutiveBaseClass_insert"/>insert</a>,<a href="#ExecutiveBaseClass_isAlive"/>isAlive</a>,<a href="#ExecutiveBaseClass_name"/>name</a>,<a href="#ExecutiveBaseClass_query"/>query</a>,<a href="#ExecutiveBaseClass_removeTimer"/>removeTimer</a>,<a href="#ExecutiveBaseClass_sendMessage"/>sendMessage</a>,<a href="#ExecutiveBaseClass_tag"/>tag</a></p><hr><a name="ExecutiveBaseClass_(constructor)"></a>
<a name="ExecutiveBaseClass_addRepeatingTimer"></a>
<h2>addRepeatingTimer(delay,tag,target)</h2>
<table>
<tr><td>delay</td><td>number</td><td>Timer delay in milliseconds.</td></tr>
<tr><td>tag</td><td>string</td><td>Identifying tag for timer (optional)</td></tr>
<tr><td>target</td><td>object</td><td>Object to receive timer (defaults to self)</td></tr>
<tr><td>return</td><td>number</td><td>Timer ID</td></tr>
</table>
<p>Fire a timer continuously until stopped.</p>
<a name="ExecutiveBaseClass_addSingleTimer"></a>
<h2>addSingleTimer(delay,tag,target)</h2>
<table>
<tr><td>delay</td><td>number</td><td>Timer delay in milliseconds.</td></tr>
<tr><td>tag</td><td>string</td><td>Identifying tag for timer (optional)</td></tr>
<tr><td>target</td><td>object</td><td>Object to receive timer (defaults to self)</td></tr>
<tr><td>return</td><td>number</td><td>Timer ID</td></tr>
</table>
<p>Fire a timer once only.</p>
<a name="ExecutiveBaseClass_addTimer"></a>
<h2>addTimer(delay,repeatCount,tag,target)</h2>
<table>
<tr><td>delay</td><td>number</td><td>Timer delay in milliseconds.</td></tr>
<tr><td>repeatCount</td><td>number</td><td>Number of repeats (1 +, -1 = continuous)</td></tr>
<tr><td>tag</td><td>string</td><td>Identifying tag for timer (optional)</td></tr>
<tr><td>target</td><td>object</td><td>Object to receive timer (defaults to self)</td></tr>
<tr><td>return</td><td>number</td><td>Timer ID</td></tr>
</table>
<p>Fire a timer a specific number of times (including until stopped.)</p>
<a name="ExecutiveBaseClass_constructor"></a>
<h2>constructor(data)</h2>
<table>
<tr><td>data</td><td>table</td><td>Data for constructor</td></tr>
</table>
<p>Constructor for game object. In the base object this is a dummy.</p>
<a name="ExecutiveBaseClass_delete"></a>
<h2>delete()</h2>
<p>Delete object from game. This calls the destructor and disconnects the object from the executive</p>
<a name="ExecutiveBaseClass_destructor"></a>
<h2>destructor()</h2>
<p>Destructor for game object. In the base object this is a dummy.</p>
<a name="ExecutiveBaseClass_getExecutive"></a>
<h2>getExecutive()</h2>
<table>
<tr><td>return</td><td>executive</td><td>Executive object controlling this object</td></tr>
</table>
<p>Get the current executive reference</p>
<a name="ExecutiveBaseClass_insert"></a>
<h2>insert(...)</h2>
<table>
<tr><td>...</td><td></td><td></td></tr>
</table>
<p>Add a display object to the group associated with this object's executive.</p>
<a name="ExecutiveBaseClass_isAlive"></a>
<h2>isAlive()</h2>
<table>
<tr><td>return</td><td>boolean</td><td>true if object is still alive.</td></tr>
</table>
<p>Check to see if an object is still alive.</p>
<a name="ExecutiveBaseClass_name"></a>
<h2>name(name)</h2>
<table>
<tr><td>name</td><td>string</td><td>Name to call it.</td></tr>
</table>
<p>Name the current object as a reference in executive.e</p>
<a name="ExecutiveBaseClass_query"></a>
<h2>query(tagList)</h2>
<table>
<tr><td>tagList</td><td>string</td><td>list of tags, seperated by commas.</td></tr>
<tr><td>return</td><td>objectlist</td><td>table with 2 values, dictionary of objects => objects and count of hits.</td></tr>
</table>
<p>Query the object database for all objects with all the listed tags.</p>
<a name="ExecutiveBaseClass_removeTimer"></a>
<h2>removeTimer(timerID)</h2>
<table>
<tr><td>timerID</td><td>number</td><td>ID of timer to remove</td></tr>
</table>
<p>Remove a timer with the given timer ID</p>
<a name="ExecutiveBaseClass_sendMessage"></a>
<h2>sendMessage(target,contents,delay)</h2>
<table>
<tr><td>target</td><td>query/object</td><td>Object or query to send the message to.</td></tr>
<tr><td>contents</td><td>table</td><td>Message contents.</td></tr>
<tr><td>delay</td><td>number</td><td>Message delay time in milliseconds (defaults to immediately)</td></tr>
</table>
<p>Send a message after an optional display. Note that message sending is asynchronous.</p>
<a name="ExecutiveBaseClass_tag"></a>
<h2>tag(tagChanges)</h2>
<table>
<tr><td>tagChanges</td><td>string</td><td>tags to add and remove from an object.</td></tr>
</table>
<p>Add or remove tags from an object. The parameter is a sequence of tags, seperated by commas, that may be prefixed by '+' or '-' to add or remove a tag. The default is to add.</p>
<a name="Object"></a>
<hr><h1>Object</h1>
<p><h3>Extends baseClass</h3></p>
<p></p>
<p>Methods : </p><hr><hr><p><i>LUA Autodoc by Paul Robson 2014</i></p><hr></body></html>
